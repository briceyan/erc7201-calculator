{% extends "base.html" %}

{% block title %}ERC-7201 Slot Calculator - Result{% endblock %}

{% block extra_head %}
  <style>
    .code-container {
      position: relative;
    }
    .copy-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      display: flex;
    }
  </style>
{% endblock %}

{% block content %}
  <h1>ERC-7201 Slot Calculator</h1>
  <div class="code-container">
    <pre><code>{{ solidity_code }}</code></pre>
    <button onclick="copy(this)" class="copy-btn" data-tooltip="Copy">Copy</button>
  </div>
  <a href="/">Back</a>
{% endblock %}

{% block scripts %}
  <script>
    function copy(button) {
      const code = document.querySelector("code").innerText;
      navigator.clipboard.writeText(code).then(() => {
        button.setAttribute("data-tooltip", "Copied!");
        setTimeout(() => button.setAttribute("data-tooltip", "Copy"), 2000);
      });
    }
  </script>
{% endblock %}
